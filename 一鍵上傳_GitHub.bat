@echo off
:: ==========================================
:: ä¸€éµä¸Šå‚³ GitHub å‚™ä»½å·¥å…·
:: é©ç”¨ç’°å¢ƒï¼šWindows + å·²å®‰è£ Git
:: ä½œè€…ï¼šChatGPT è‡ªå‹•ç”¢ç”Ÿ
:: ==========================================

:: æª¢æŸ¥æ˜¯å¦åœ¨ Git å°ˆæ¡ˆå…§
git rev-parse --is-inside-work-tree >nul 2>&1
if errorlevel 1 (
    echo [éŒ¯èª¤] é€™å€‹è³‡æ–™å¤¾ä¸æ˜¯ Git å°ˆæ¡ˆï¼
    echo è«‹å…ˆåŸ·è¡Œï¼šgit init
    pause
    exit /b
)

echo ==========================================
echo ğŸ”„ æ­£åœ¨æº–å‚™ä¸Šå‚³è‡³ GitHub...
echo ==========================================
echo.

:: æ–°å¢æ‰€æœ‰ä¿®æ”¹çš„æª”æ¡ˆ
git add .

:: è®“ä½¿ç”¨è€…è¼¸å…¥ Commit è¨Šæ¯
set /p msg=è«‹è¼¸å…¥é€™æ¬¡ä¸Šå‚³çš„èªªæ˜ (é è¨­: æ›´æ–°ç¶²ç«™å…§å®¹)ï¼š 
if "%msg%"=="" set msg=æ›´æ–°ç¶²ç«™å…§å®¹

:: å»ºç«‹ commit
git commit -m "%msg%"

:: æ¨é€åˆ° GitHub main åˆ†æ”¯
echo.
echo ğŸš€ æ­£åœ¨æ¨é€åˆ° GitHub...
git push -u origin main

if %errorlevel%==0 (
    echo.
    echo âœ… ä¸Šå‚³å®Œæˆï¼å·²æˆåŠŸåŒæ­¥åˆ° GitHubã€‚
) else (
    echo.
    echo âŒ ä¸Šå‚³å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯æˆ–ç™»å…¥ç‹€æ…‹ã€‚
)

pause
